=== START PROJECT ANALYSIS ===

# ===============================================================
# ğŸ” SECTION 1 â€” PROJECT STRUCTURE
# ===============================================================
=== DIRECTORY TREE (Depth 4) ===
/
â”œâ”€â”€ ACTUAL_REPO_OVERVIEW.txt
â”œâ”€â”€ AGENTS.md
â”œâ”€â”€ bin/
â”œâ”€â”€ build/
â”œâ”€â”€ data/
â”œâ”€â”€ Documents (Scott Generated)/
â”‚   â”œâ”€â”€ 1 - Script for Copilot to Gather Repo Intelligence (AF).txt
â”‚   â”œâ”€â”€ 2 - Copilot Deep Project Intelligence Script (Complete Version).txt
â”‚   â”œâ”€â”€ 3 - Copilot Runtime & Data Flow Analysis Script (Phase 2).txt
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ ci-actions/
â”‚   â”œâ”€â”€ component-library/
â”‚   â”œâ”€â”€ crdt/
â”‚   â”œâ”€â”€ desktop-client/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ budget/
â”‚   â”‚   â”‚   â”œâ”€â”€ modals/
â”‚   â”‚   â”‚   â”œâ”€â”€ payees/
â”‚   â”‚   â”‚   â”œâ”€â”€ transactions/
â”‚   â”‚   â”‚   â”œâ”€â”€ tags/
â”‚   â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ redux/
â”‚   â”‚   â”‚   â”œâ”€â”€ spreadsheet/
â”‚   â”‚   â”‚   â”œâ”€â”€ style/
â”‚   â”‚   â”‚   â”œâ”€â”€ util/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ desktop-electron/
â”‚   â”‚   â”œâ”€â”€ index.ts      # Electron main entry
â”‚   â”‚   â”œâ”€â”€ preload.ts    # Preload script
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ loot-core/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ plugins-service/
â”‚   â”œâ”€â”€ sync-server/
â”‚   â”‚   â”œâ”€â”€ app.ts        # Backend/server logic
â”‚   â”‚   â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .env.example
â”œâ”€â”€ package.json
===============================

# ===============================================================
# âš™ï¸ SECTION 2 â€” CONFIGURATION FILES
# ===============================================================
=== CONFIG FILES ===
- package.json (root): see full contents above
- packages/desktop-electron/package.json: electron-builder config in "build" field
- packages/desktop-client/package.json: React/Vite config
- packages/loot-core/package.json: shared logic, exports
- packages/sync-server/package.json: backend server config
- tsconfig.json: TypeScript config, strict settings, workspace paths
- .env.example: ACTUAL_WEB_DIR=./packages/desktop-client
=====================

# ===============================================================
# ğŸ§© SECTION 3 â€” APP ENTRY POINTS
# ===============================================================
=== APP ENTRY FILES ===
- Electron main: packages/desktop-electron/index.ts (full source, see above)
- Preload: packages/desktop-electron/preload.ts (contextBridge, IPC, see above)
- React entry: packages/desktop-client/src/index.tsx (full source, see above)
- Redux store: packages/desktop-client/src/redux/store.ts (combineReducers, configureStore)
- Router: BrowserRouter in App.tsx, router setup in packages/desktop-client/src/app/router.tsx (not available, but referenced)
=====================

# ===============================================================
# ğŸ’¡ SECTION 4 â€” CUSTOM MODULES AND FEATURES
# ===============================================================
=== CUSTOM MODULES ===
- Budget manager: packages/desktop-client/src/budget/budgetSlice.ts (Redux slice, async thunks, category/group management)
- Credit card tracker: packages/desktop-client/src/accounts/
- Retirement planner: not detected
- Estimators/forecasting: logic in budgetSlice.ts, reports, and custom hooks
- Data flows: Redux actions, selectors, async thunks, IPC for sync/server
- APIs: loot-core/platform/client/fetch, sync-server API
======================

# ===============================================================
# ğŸ’¾ SECTION 5 â€” DATA PERSISTENCE & BACKEND
# ===============================================================
=== DATA LAYER ===
- Local data: better-sqlite3 (SQLite), stored in ACTUAL_DATA_DIR (Electron userData)
- Sync: @actual-app/sync-server (Express, API routes, multi-device sync)
- Encryption: not explicit, but sensitive data not stored in plaintext
- Backend: sync-server/app.ts (Express server, API, migrations, authentication)
=================

# ===============================================================
# ğŸ§± SECTION 6 â€” DEPENDENCIES AND VERSIONS
# ===============================================================
=== DEPENDENCIES ===
- Framework: react, react-dom, redux, react-redux, electron
- Utilities: lodash, date-fns, uuid, fs-extra, promise-retry, memoize-one
- Finance/math: better-sqlite3, @jlongster/sql.js, deep-equal, lru-cache
- Dev/build: vite, electron-builder, typescript, prettier, eslint, cross-env, rollup-plugin-visualizer, vitest, playwright
====================

# ===============================================================
# âš¡ SECTION 7 â€” BUILD & EXECUTION
# ===============================================================
=== BUILD PIPELINE ===
- Build: yarn build:desktop (calls ./bin/package-electron, triggers electron-builder)
- Start: yarn start:desktop (runs Electron app in dev mode)
- Packaging: electron-builder config in desktop-electron/package.json (targets: dmg, AppImage, flatpak, nsis, appx)
- Cross-platform: macOS, Windows, Linux (x64, arm64, ia32)
======================

# ===============================================================
# ğŸ§  SECTION 8 â€” ARCHITECTURE & CODE QUALITY (Optional)
# ===============================================================
=== CODE QUALITY SUMMARY ===
- Architecture: Modular monorepo, clear separation of UI, backend, shared logic
- File organization: Consistent, domain-based folders (components, hooks, redux, budget, etc.)
- Technical debt: Some large React components, legacy JS, repeated Redux logic, minor unused imports
- Suggested refactors: Split large components, memoize inline functions, add integration tests, extract magic numbers, improve documentation
============================

=== END PROJECT ANALYSIS ===
